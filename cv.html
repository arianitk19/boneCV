<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>boneCV | Studio CV Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="master.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;600;800&family=Playfair+Display:ital,wght@0,700;1,700&family=Inter:wght@300;400;700&family=JetBrains+Mono:wght@400&display=swap');
        
        :root { --accent: #2563eb; --bg: #050505; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: #fff; overflow: hidden; height: 100vh; }

        /* --- UI STRUCTURE (Identik me kontrata.html) --- */
        #sidebar {
            width: 280px; background: rgba(5,5,5,0.95); backdrop-filter: blur(50px);
            border-right: 1px solid rgba(255,255,255,0.06); transition: 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            transform: translateX(-100%); z-index: 3000;
        }
        #sidebar.active { transform: translateX(0); }

        #main-wrapper { transition: padding-left 0.5s; display: grid; grid-template-columns: 450px 1fr; height: 100vh; }

        .editor-panel { background: #0a0a0a; border-right: 1px solid rgba(255,255,255,0.05); overflow-y: auto; scrollbar-width: none; }
        .editor-panel::-webkit-scrollbar { display: none; }
        
        .preview-area { 
            background: radial-gradient(circle at center, #111 0%, #000 100%);
            overflow-y: auto; display: flex; justify-content: center; padding: 60px 0;
        }

        /* --- PAPER DESIGN --- */
        #cv-paper {
            width: 210mm; min-height: 297mm; background: #fff; color: #111;
            padding: 20mm 20mm; box-shadow: 0 50px 100px rgba(0,0,0,0.8);
            transform: scale(0.75); transform-origin: top center;
            transition: 0.4s all ease; position: relative;
        }

        /* --- INPUT STYLES --- */
        .glass-card { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 20px; padding: 20px; margin-bottom: 16px; }
        .input-elite { width: 100%; background: #151515; border: 1px solid #222; border-radius: 12px; padding: 14px; color: #fff; margin-bottom: 12px; font-size: 13px; outline: none; transition: 0.3s; }
        .input-elite:focus { border-color: var(--accent); background: #1a1a1a; }
        
        .tmpl-card { cursor: pointer; border: 2px solid transparent; transition: 0.3s; border-radius: 12px; opacity: 0.5; overflow: hidden; }
        .tmpl-card.active { border-color: var(--accent); opacity: 1; transform: translateY(-3px); }

        #photo-preview { width: 120px; height: 120px; object-fit: cover; border: 4px solid #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 20px; display: none; }

        @media print {
            @page { size: A4; margin: 0; }
            body { background: white !important; overflow: visible !important; }
            .no-print, #sidebar, .editor-panel, header { display: none !important; }
            #main-wrapper { display: block !important; padding: 0 !important; }
            .preview-area { display: block !important; background: white !important; padding: 0 !important; overflow: visible !important; }
            #cv-paper { transform: scale(1) !important; box-shadow: none !important; margin: 0 !important; width: 210mm !important; height: 297mm !important; position: absolute; top: 0; left: 0; }
        }

        @media (max-width: 1024px) {
            #main-wrapper { grid-template-columns: 1fr; }
            .preview-area { display: none; }
            #cv-paper { width: 100%; transform: scale(1); }
        }
    </style>
</head>
<body class="flex">

    <aside id="sidebar" class="fixed inset-y-0 left-0 flex flex-col p-8 no-print">
        <div class="flex items-center justify-between mb-12">
            <h2 class="text-2xl font-black italic tracking-tighter text-white">boneCV</h2>
            <button onclick="toggleSidebar()" class="text-slate-500"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <nav class="flex-1 space-y-1 text-sm font-bold">
            <a href="index.html" class="flex items-center gap-4 p-4 rounded-xl text-slate-400 hover:bg-white/5"><i class="fa-solid fa-house"></i> Dashboard</a>
            <a href="cv.html" class="flex items-center gap-4 p-4 rounded-xl bg-blue-600 text-white"><i class="fa-solid fa-id-card"></i> Studio CV</a>
            <a href="kontrata.html" class="flex items-center gap-4 p-4 rounded-xl text-slate-400 hover:bg-white/5"><i class="fa-solid fa-file-signature"></i> Kontratat</a>
            <a href="kerkesa.html" class="flex items-center gap-4 p-4 rounded-xl text-slate-400 hover:bg-white/5"><i class="fa-solid fa-box-archive"></i> Kerkesa</a>
            <a href="arkiva.html" class="flex items-center gap-4 p-4 rounded-xl text-slate-400 hover:bg-white/5"><i class="fa-solid fa-box-archive"></i> Arkiva</a>
        </nav>
    </aside>

    <main id="main-wrapper" class="flex-1 w-full">
        <section class="editor-panel no-print">
            <header class="p-6 sticky top-0 bg-[#0a0a0a]/90 backdrop-blur-xl border-b border-white/5 flex justify-between items-center z-50">
                <button onclick="toggleSidebar()" class="w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center border border-white/10 text-white">
                    <i class="fa-solid fa-bars-staggered"></i>
                </button>
                <button onclick="superGenerate()" class="px-6 py-2.5 bg-blue-600 text-white rounded-xl font-black text-[11px] uppercase tracking-widest hover:scale-105 transition-all shadow-lg shadow-blue-600/20">
                    Eksporto PDF
                </button>
            </header>

            <div class="p-6 md:p-10">
                <h1 class="text-3xl font-black tracking-tighter mb-2">Studio <span class="text-blue-600 italic">CV</span></h1>
                <p class="text-zinc-500 text-xs mb-8 uppercase tracking-widest font-bold">Krijo Profilin Tënd Profesional</p>

                <div class="glass-card">
                    <p class="text-[10px] font-black uppercase tracking-widest text-blue-600 mb-4">Informacioni Personal</p>
                    <input type="text" id="in-name" class="input-elite" placeholder="Emri i Plotë" oninput="sync()">
                    <input type="text" id="in-pos" class="input-elite" placeholder="Pozita Profesionale" oninput="sync()">
                    <input type="text" id="in-email" class="input-elite" placeholder="Email Adresa" oninput="sync()">
                    <input type="text" id="in-phone" class="input-elite" placeholder="Numri i Telefonit" oninput="sync()">
                </div>

                <div class="glass-card">
                    <p class="text-[10px] font-black uppercase tracking-widest text-blue-600 mb-4">Foto / Profil</p>
                    <input type="file" id="in-photo" class="input-elite" accept="image/*" onchange="handlePhoto(this)">
                </div>

                <div class="glass-card">
                    <p class="text-[10px] font-black uppercase tracking-widest text-blue-600 mb-4">Përshkrimi & Përvoja</p>
                    <textarea id="in-bio" class="input-elite h-24" placeholder="Përmbledhje e shkurtër..." oninput="sync()"></textarea>
                    <input type="text" id="in-exp-title" class="input-elite" placeholder="Kompania & Titulli" oninput="sync()">
                    <textarea id="in-exp-desc" class="input-elite h-32" placeholder="Detyrat dhe arritjet..." oninput="sync()"></textarea>
                </div>

                <div class="glass-card">
                    <p class="text-[10px] font-black uppercase tracking-widest text-zinc-500 mb-4">Zgjidh Stilimin</p>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="tmpl-card active" onclick="setTmpl('modern', this)">
                            <div class="h-12 bg-zinc-800 flex items-center justify-center text-[9px] font-bold">MODERN</div>
                        </div>
                        <div class="tmpl-card" onclick="setTmpl('classic', this)">
                            <div class="h-12 bg-zinc-800 flex items-center justify-center text-[9px] font-serif font-bold">CLASSIC</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="preview-area">
            <div id="cv-paper">
                <div class="flex justify-between items-start mb-12">
                    <div>
                        <img id="photo-preview" src="" alt="Profile">
                        <h1 id="out-name" class="text-5xl font-black uppercase tracking-tighter leading-none mb-2">Emri Juaj</h1>
                        <p id="out-pos" class="text-xl font-bold text-blue-600 uppercase tracking-widest">Profesioni Juaj</p>
                    </div>
                    <div class="text-right text-[11px] font-bold space-y-1 opacity-60">
                        <p id="out-email">email@shembull.com</p>
                        <p id="out-phone">+383 44 000 000</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-10">
                    <section>
                        <h3 class="text-[10px] font-black uppercase tracking-[4px] border-b-2 border-black pb-2 mb-4">Profili</h3>
                        <p id="out-bio" class="text-[14px] leading-relaxed text-zinc-700">Shënoni një përmbledhje të shkurtër të karrierës suaj këtu...</p>
                    </section>

                    <section>
                        <h3 class="text-[10px] font-black uppercase tracking-[4px] border-b-2 border-black pb-2 mb-4">Përvoja Profesionale</h3>
                        <div class="mb-6">
                            <h4 id="out-exp-title" class="text-lg font-bold uppercase">Emri i Kompanisë</h4>
                            <p id="out-exp-desc" class="text-[14px] leading-relaxed text-zinc-700 mt-2">Detajet mbi eksperiencën tuaj do të shfaqen këtu pasi t'i shënoni në editor.</p>
                        </div>
                    </section>
                </div>
            </div>
        </section>
    </main>

    <script>
    function toggleSidebar() {
        const sb = document.getElementById('sidebar');
        const wr = document.getElementById('main-wrapper');
        sb.classList.toggle('active');
        if(window.innerWidth > 1024) {
            wr.style.paddingLeft = sb.classList.contains('active') ? '280px' : '0';
        }
    }

    function sync() {
        const map = {
            'in-name': 'out-name',
            'in-pos': 'out-pos',
            'in-email': 'out-email',
            'in-phone': 'out-phone',
            'in-bio': 'out-bio',
            'in-exp-title': 'out-exp-title',
            'in-exp-desc': 'out-exp-desc'
        };
        for(let id in map) {
            let val = document.getElementById(id).value;
            if(val) document.getElementById(map[id]).innerText = val;
        }
    }

    function handlePhoto(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = e => {
                const img = document.getElementById('photo-preview');
                img.src = e.target.result;
                img.style.display = 'block';
            };
            reader.readAsDataURL(input.files[0]);
        }
    }

    function setTmpl(style, el) {
        const paper = document.getElementById('cv-paper');
        document.querySelectorAll('.tmpl-card').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
        paper.style.fontFamily = (style === 'classic') ? "'Playfair Display', serif" : "'Plus Jakarta Sans', sans-serif";
    }

    function superGenerate() {
        const emri = document.getElementById('in-name').value || "CV-Dokument";
        if(window.saveToArchive) window.saveToArchive("CV", emri);
        window.print();
    }

    window.onload = () => { if(window.innerWidth > 1024) setTimeout(toggleSidebar, 600); };
    </script>
</body>
</html>
